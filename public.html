<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="images/gift.png" type="image/x-icon" />
    <link rel="stylesheet" href="css/index.css" />

    <!-- Document Title -->
    <title>Maiza Bastos ü§ç</title>
  </head>

  <body>
    <!-- M√∫sica de fundo -->
    <audio id="bg-music" src="Music/Primeira.mp3" loop></audio>
    <!-- Background -->
    <div class="night"></div>

    <!-- Title -->
    <h1 class="title"></h1>

    <!-- Button -->
    <div
      style="
        position: absolute;
        top: 60vh;
        width: 100%;
        display: flex;
        justify-content: center;
      "
    >
      <div id="poda">
        <div class="glow"></div>
        <div class="darkBorderBg"></div>
        <div class="darkBorderBg"></div>
        <div class="darkBorderBg"></div>
        <div class="white"></div>
        <div class="border"></div>
        <div id="main">
          <button class="open-btn" id="open-heart-btn">
            <svg
              class="sparkle"
              height="24"
              width="24"
              fill="#fff"
              viewBox="0 0 24 24"
            >
              <path
                d="M10,21.236,6.755,14.745.264,11.5,6.755,8.255,10,1.764l3.245,6.491L19.736,11.5l-6.491,3.245ZM18,21l1.5,3L21,21l3-1.5L21,18l-1.5-3L18,18l-3,1.5ZM19.333,4.667,20.5,7l1.167-2.333L24,3.5,21.667,2.333,20.5,0,19.333,2.333,17,3.5Z"
              ></path>
            </svg>
            <span class="text">Open</span>
          </button>
          <div id="input-mask"></div>
          <div id="pink-mask"></div>
        </div>
      </div>
    </div>

    <div
      class="index-bg"
      style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 0;
        pointer-events: none;
      "
    >
      <div class="stars">
        <div class="star"></div>
        <div
          class="star"
          style="top: 80px; left: 800px; animation-delay: 3s"
        ></div>
        <div
          class="star"
          style="top: 40px; left: 646px; animation-delay: 2s"
        ></div>
        <div
          class="star"
          style="top: 120px; left: 395px; animation-delay: 4s"
        ></div>
        <div
          class="star"
          style="top: 160px; left: 765px; animation-delay: 1s"
        ></div>
        <div
          class="star"
          style="top: 170px; left: 1200px; animation-delay: 2s"
        ></div>
        <div
          class="star"
          style="top: 200px; left: 1000px; animation-delay: 1s"
        ></div>
        <div
          class="star"
          style="top: 60px; left: 300px; animation-delay: 1.5s"
        ></div>
        <div
          class="star"
          style="top: 100px; left: 900px; animation-delay: 2.5s"
        ></div>
        <div
          class="star"
          style="top: 180px; left: 1100px; animation-delay: 3.5s"
        ></div>
        <div
          class="star"
          style="top: 220px; left: 500px; animation-delay: 0.5s"
        ></div>
        <div
          class="star"
          style="top: 140px; left: 600px; animation-delay: 2.2s"
        ></div>
        <div
          class="star"
          style="top: 200px; left: 300px; animation-delay: 3.2s"
        ></div>
        <div
          class="star"
          style="top: 80px; left: 100px; animation-delay: 1.2s"
        ></div>
        <div
          class="star"
          style="top: 60px; left: 1200px; animation-delay: 0.8s"
        ></div>
        <div
          class="star"
          style="top: 240px; left: 1300px; animation-delay: 4.2s"
        ></div>
      </div>
    </div>

    <script src="js/index.js"></script>
    <script>
      window.addEventListener("DOMContentLoaded", function () {
        var audio = document.getElementById("bg-music");
        audio.volume = 0; // Come√ßa silencioso

        setTimeout(function () {
          audio.play().catch(function () {
            /* Silencia erro de autoplay */
          });

          // Fade in do √°udio
          var fadeIn = setInterval(function () {
            if (audio.volume < 0.95) {
              audio.volume += 0.05;
            } else {
              audio.volume = 1;
              clearInterval(fadeIn);
            }
          }, 100); // Dura√ß√£o total: ~2s
        }, 1000);
      });

      document
        .getElementById("open-heart-btn")
        .addEventListener("click", function (e) {
          e.preventDefault();
          var audio = document.getElementById("bg-music");
          audio.play(); // Garante que o √°udio vai tocar ap√≥s intera√ß√£o

          document.body.classList.add("fade-out");

          var fadeAudio = setInterval(function () {
            if (audio.volume > 0.05) {
              audio.volume -= 0.05;
            } else {
              audio.volume = 0;
              clearInterval(fadeAudio);
              window.location.href = "purple-flower/purple-flowers.html";
            }
          }, 50);
        });
    </script>
  </body>
</html>
